include "sciter:reactor.tis";
include "SetInput.tis";

class Test: Reactor.Component {
	function this(props) {
		this.props = props;
		this.checked = true;
		this.arr = ['a', 'b', 'ccc'];
	}
	function render() {
		return (
			<div class="test">
				<p>
					<input type="checkbox" :checked={this.checked} id="input"/>
					&nbsp;
					<label for="input"> switch</label>
				</p>
				<div>
					{this.renderSwitch()}
				</div>
			</div>
		);
	}
	function renderSwitch() {
		if (this.checked) {
			const c = new ComponentController(this, 'arr');
			return (
				<div key="list">
					<p><label for="entry">entry</label></p>
					<SetInput identifier="entry" controller={c}/>
				</div>
			);
		} else {
			return <div key="label"><strong>checked!</strong></div>;
		}
	}
	event change $(input#input) (evt, element) {
		this.update({checked: element.value, arr: ['a', 'b', 'ccc']});
	}
}
